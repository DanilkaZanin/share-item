# Фаза 2. Проектирование архитектуры и структуры системы

## Мета фаза
Фаза 2 посвящена проектированию архитектуры сервиса шеринга предметов, формированию ключевых компонентов системы, их ответственности и взаимодействия. Также на этом этапе определяется декомпозиция задач для следующей фазы — реализации и оценки трудоёмкости (Фаза 3), и распределение этих задач между участниками команды.

---

## 1. Декомпозиция работ

Для выполнения Фазы 2 определены ключевые задачи:

| ID задачи | Название задачи | Описание | Тип работы |
|-----------|----------------|----------|------------|
| T2-01 | Определение слоёв приложения | Выделение Controller, Service, Repository, Infra слоёв | Архитектура |
| T2-02 | Проектирование модели данных | Создание сущностей User, Item, нормализация, связи | Моделирование |
| T2-03 | Проектирование REST API | Определение эндпоинтов и форматов запросов/ответов | API дизайн |
| T2-04 | Настройка Spring Security | Аутентификация, авторизация, роли пользователей | Безопасность |
| T2-05 | Проектирование интеграции с S3 | Хранение ссылок на объекты, управление доступом, изоляция данных | Интеграция |
| T2-06 | Контейнеризация с Docker | Dockerfile, docker-compose, локальное окружение | DevOps |
| T2-07 | Документирование архитектуры | Диаграммы компонентов, описание слоёв и взаимодействия | Документация |

---

## 2. Оценка трудоёмкости задач (PERT)

Для каждой задачи выполнена трёхточечная оценка:

| ID задачи | O (ч) | M (ч) | P (ч) | Ожидаемое время (ч) |
|-----------|-------|-------|-------|-------------------|
| T2-01 | 1 | 2 | 3 | 2 |
| T2-02 | 2 | 3 | 5 | 3,5 |
| T2-03 | 1 | 2 | 3 | 2 |
| T2-04 | 2 | 3 | 4 | 3 |
| T2-05 | 2 | 3 | 5 | 3,5 |
| T2-06 | 1 | 2 | 3 | 2 |
| T2-07 | 1 | 1,5 | 2 | 1,5 |

**Итого ожидаемых часов:** 17,5 ч

---

## 3. Распределение задач между участниками

Изначально проект предполагался на трёх человек, но один участник покинул команду без предупреждения. Задачи Фазы 2 распределены между **Ильёй** и **Данилом** с учётом компетенций и предпочтений:

| ID задачи | Назначение | Исполнитель |
|-----------|------------|-------------|
| T2-01 | Архитектура слоёв | Илья |
| T2-02 | Модель данных | Данил |
| T2-03 | REST API | Данил |
| T2-04 | Security | Илья |
| T2-05 | S3 интеграция | Илья |
| T2-06 | Docker | Илья |
| T2-07 | Документация | Данил |

---

## 4. Матрица RACI

| Задача | Илья | Данил |
|--------|------|-------|
| T2-01 | R | C |
| T2-02 | C | R |
| T2-03 | C | R |
| T2-04 | R | C |
| T2-05 | R | I |
| T2-06 | R | I |
| T2-07 | I | R |

**Обозначения:**  
R — Responsible (отвечает),  
C — Consulted (консультирует),  
I — Informed (информируется)

---

## 5. План по дням (10 рабочих дней)

| День | Основные задачи | Ответственные | Совместные активности |
|------|----------------|---------------|----------------------|
| 1 | T2-01 Определение слоёв | Илья | Обсуждение архитектуры |
| 2 | T2-02 Проектирование модели данных | Данил | Согласование сущностей |
| 3 | T2-03 Проектирование REST API | Данил | Обсуждение формата запросов |
| 4 | T2-04 Настройка Spring Security | Илья | Проверка прав доступа |
| 5 | T2-05 Интеграция с S3 | Илья | Тестирование загрузки/доступа |
| 6 | T2-06 Контейнеризация с Docker | Илья | Настройка локального окружения |
| 7 | T2-07 Документирование архитектуры | Данил | Создание диаграмм |
| 8 | T2-07 Документирование архитектуры | Данил | Финальная правка документации |
| 9 | T2-01–T2-06 | Илья | Проверка взаимодействия компонентов |
| 10 | T2-07 | Данил | Подготовка итогового отчёта |

---

## 6. Контрольные точки

| КТ | День | Ожидаемый результат | Ответственный |
|----|------|-------------------|---------------|
| КТ1 | 2 | Модель данных согласована | Данил |
| КТ2 | 4 | Настроена базовая архитектура слоёв и Security | Илья |
| КТ3 | 5 | Проверена интеграция с S3 | Илья |
| КТ4 | 7 | Диаграммы компонентов готовы | Данил |
| КТ5 | 10 | Итоговая документация Фазы 2 готова | Данил |

---

## 7. Используемые инструменты

| Категория | Инструмент | Назначение | Ответственный |
|-----------|------------|-----------|---------------|
| Таск-трекер | Trello     | Управление задачами, контроль выполнения | Данил |
| Документация | .md        | Архитектурные описания, диаграммы | Оба |
| Контейнеризация | Docker     | Локальное окружение и изоляция | Илья |
| Хранилище | S3         | Бинарные объекты (изображения) | Илья |
| Коммуникация | Discord    | Ежедневные стендапы, обсуждения | Данил |

---

## 8. Выводы по фазе

- Определена целостная архитектура сервиса шеринга предметов;
- Спроектированы слои приложения, модели данных, безопасность и контейнеризация;
- Сформирован WBS, PERT-оценка задач и распределение работы между участниками;
- Подготовлена база для последующей Фазы 3 — реализации и оценки трудозатрат.
